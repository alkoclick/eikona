plugins {
    id 'org.jetbrains.kotlin.jvm' version '1.7.10'
}

apply plugin: 'kotlin'
apply plugin: 'application'

group = 'io.eikona'
mainClassName = 'Entrypoint'

sourceCompatibility = 17.0
targetCompatibility = 17.0

repositories {
    mavenCentral()
//    maven { url 'https://jitpack.io' }
//    jcenter()
}

def ktorV = '2.1.1'

dependencies {
//    implementation("org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version")
    implementation "io.ktor:ktor-server-core:$ktorV"
    implementation "io.ktor:ktor-server-netty:$ktorV"

}

test {
    useJUnitPlatform()

    afterEvaluate {
        testLogging {
            events 'passed', 'failed', 'skipped', 'PASSED', 'FAILED', 'SKIPPED'
        }
    }
}

compileKotlin {
    kotlinOptions.jvmTarget = "11"
}
compileTestKotlin {
    kotlinOptions.jvmTarget = "11"
}